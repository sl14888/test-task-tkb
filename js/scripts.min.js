document.addEventListener("DOMContentLoaded",(()=>{const e=()=>{const e=Array.from(document.querySelectorAll("table .table-row")),n={};e.forEach(((e,t)=>{const o=Array.from(e.querySelectorAll("input, select, textarea"));n[t]=o.reduce(((e,n)=>(e[n.name]=n.value,e)),{})})),console.log(n);(async(e,n)=>{await fetch(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>console.log(e))).catch((e=>console.error(e)))})("/app/php/json_parser.php",JSON.stringify(n))};window.addEventListener("click",(n=>{n.target.classList.contains("btn-add")&&document.querySelector(".tbody").insertAdjacentHTML("beforeend",'\n                    <tr class="table-row border-bottom">\n                      <td>\n                        <input\n                          class="form-control"\n                          name="fio"\n                          type="text"\n                          placeholder="Ваше ФИО"\n                          required\n                        />\n                      </td>\n                      <td>\n                        <select class="form-select form-control" name="position">\n                          <option selected>аналитик</option>\n                          <option>менеджер</option>\n                          <option>программист</option>\n                          <option>юрист</option>\n                        </select>\n                      </td>\n                      <td>\n                        <input\n                          class="form-control"\n                          name="age"\n                          placeholder="Ваш Возраст"\n                          type="number"\n                          min="18"\n                          max="100"\n                          required\n                        />\n                      </td>\n                      <td>\n                        <textarea\n                          class="form-control"\n                          placeholder="Ваши Компетенции"\n                          name="comments"\n                          required\n                        ></textarea>\n                      </td>\n                      <td>\n                        <button\n                          type="button"\n                          class="btn-close"\n                          aria-label="Close"\n                        ></button>\n                      </td>\n                    </tr>\n    '),n.target.classList.contains("btn-close")&&n.target.closest("tr").remove(),n.target.classList.contains("btn-submit")&&(()=>{const e=document.querySelector(".tbody").querySelectorAll("input, select, textarea");let n=!0;return e.forEach((e=>{"fio"===e.name&&(""!==e.value&&e.value.match(/[а-яА-ЯёЁa-zA-Z]+/)?e.classList.remove("is-invalid"):(e.classList.add("is-invalid"),n=!1)),"comments"===e.name&&(""!==e.value&&e.value.match(/[а-яА-ЯёЁa-zA-Z]+/)?e.classList.remove("is-invalid"):(e.classList.add("is-invalid"),n=!1)),"age"===e.name&&(""===e.value||e.value<18||e.value>100?(e.classList.add("is-invalid"),n=!1):e.classList.remove("is-invalid"))})),n})()&&e()}))}));